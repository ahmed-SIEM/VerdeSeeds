<!-- Platform List Page -->

<body class="app">

  <div class="app-wrapper">
   
        
       
<div class="container-fluid p-4">
  <!-- Header Section -->
  <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="text-primary mb-0">Component Management</h2>
      <button class="btn btn-success" (click)="addComponent()">
          <i class="fas fa-plus me-2"></i>Add New Component
      </button>
  </div>

  <!-- Search and Filter Section -->
  <div class="card mb-4">
      <div class="card-body">
          <div class="row g-3">
              <div class="col-md-4">
                  <input type="text" class="form-control" placeholder="Search by name or type..." [(ngModel)]="searchTerm">
              </div>
              <div class="col-md-4">
                  <select class="form-select" [(ngModel)]="selectedType">
                      <option value="">All Types</option>
                      <option *ngFor="let type of categorizedComponents | keyvalue" [value]="type.key">
                          {{type.value.name}}
                      </option>
                  </select>
              </div>
          </div>
      </div>
  </div>

  <!-- Platforms List -->
  <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4">
      <div class="col" *ngFor="let component of filteredComponentsList">
          <div class="card h-100">
              <div class="card-body">
                  <img [src]="categorizedComponents[component.type].preview" 
                       [alt]="categorizedComponents[component.type].name"
                       class="component-preview-img"
                       [title]="categorizedComponents[component.type].name"
                       data-toggle="modal" 
                       data-target="#exampleModal"
                       (click)="previewComponent(component)">
                       
                  <div class="component-info">
                      <h4 class="card-title  mb-0"><strong>{{component.name}}</strong></h4>
                      <p class="text-muted small mb-0">Type: {{categorizedComponents[component.type].name}}</p>
                  </div>

                  <div class="d-flex gap-2 mt-auto">
                      <button class="btn btn-outline-primary btn-sm"  (click)="viewComponent(component)">
                          <i class="fas fa-eye me-1"></i> View
                      </button>
                      <button class="btn btn-outline-info btn-sm" data-toggle="modal" data-target="#exampleModal" (click)="previewComponent(component)">
                          <i class="fas fa-eye me-1"></i> Preview
                      </button>
                      <button class="btn btn-outline-secondary btn-sm" (click)="editComponent(component)">
                          <i class="fas fa-edit me-1"></i> Edit
                      </button>
                      <button class="btn btn-outline-danger btn-sm" (click)="deleteComponent(component.id)">
                          <i class="fas fa-trash me-1"></i> Delete
                      </button>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="filteredComponentsList.length === 0" class="text-center py-5">
      <i class="fas fa-database fa-3x text-muted mb-3"></i>
      <h4>No Components Found</h4>
      <p class="text-muted">Start by adding a new components using the button above.</p>
  </div>


  
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Component Preview</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body text-center">
          <img [src]="selectedPreviewImage" class="img-fluid" alt="Component Preview">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

</div>
  </div>
</body>
