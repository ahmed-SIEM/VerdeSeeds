<div class="container mt-4">
    <h2>{{ isEditMode ? 'Modifier' : 'Créer' }} une réservation</h2>
  
    <form [formGroup]="reservationForm" (ngSubmit)="onSubmit()">
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="articleId" class="form-label">Article</label>
          <!-- Sélecteur d'article uniquement en mode création -->
          <select *ngIf="!isEditMode" class="form-select" id="articleId" (change)="onArticleSelect($event)">
            <option value="">Sélectionner un article</option>
            <option *ngFor="let article of articles" [value]="article.id">
              {{ article.title }}
            </option>
          </select>
          <!-- Affichage du nom de l'article en mode modification -->
          <div *ngIf="isEditMode" class="form-control" style="background-color: #f0f0f0;">
            {{ selectedArticleTitle }}
          </div>
        </div>
      </div>
  
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="startDatetime" class="form-label">Date de début</label>
          <input type="datetime-local" class="form-control" id="startDatetime" formControlName="startDatetime">
        </div>
        <div class="col-md-6">
          <label for="endDatetime" class="form-label">Date de fin</label>
          <input type="datetime-local" class="form-control" id="endDatetime" formControlName="endDatetime">
        </div>
      </div>
  
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="totalPrice" class="form-label">Prix total</label>
          <div class="input-group">
            <input type="number" class="form-control" id="totalPrice" formControlName="totalPrice" step="0.01">
            <span class="input-group-text">€</span>
          </div>
        </div>
        <div class="col-md-6">
          <label for="status" class="form-label">Statut</label>
          <select class="form-select" id="status" formControlName="status">
            <option value="PENDING">En attente</option>
            <option value="CONFIRMED">Confirmée</option>
            <option value="CANCELLED">Annulée</option>
          </select>
        </div>
      </div>
  
      <div class="d-flex justify-content-end gap-2">
        <button type="button" class="btn btn-secondary" (click)="navigateToReservations()">
          Annuler
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="reservationForm.invalid">
          {{ isEditMode ? 'Mettre à jour' : 'Créer' }}
        </button>
      </div>
    </form>
  </div>